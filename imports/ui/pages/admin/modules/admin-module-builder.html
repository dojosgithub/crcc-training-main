<!-- Admin Module Builder template -->
<template name="AdminModuleBuilder">

  <div class="row row-admin-module-builder modal">
    <!-- Top nav bar -->
    <div class="admin-module-builder-top text-right">
      <button class="btn-lg btn-default btn-close-admin-module-builder">
      <i class="fa fa-lg fa-times" aria-hidden="true"></i></button>
    </div>   
    
    <div class="admin-module-builder-leftbar">
      <div class="btn-add-new-page-container text-right">
        <div class="all-page-stats" id="all_page_stats"></div>
        <button class="btn btn-xs btn-default btn-add-new-page" 
          data-target="#new_module_page_form_container" data-toggle="modal">&plus;</button>
      </div>
      <div class="leftbar-module-pages-container">
        <ul id="ul_admin_module_builder_pages" class="list-unstyled">
          {{#each Pages}}
          <li class="li-admin-module-builder-page 
            {{#if eq status 1}}li-admin-module-builder-page-active{{/if}}" 
            data-mid="{{this.moduleId}}" data-pid="{{this._id}}">          
            <div class="page-title-container">
              {{this.title}}
            </div>
            <div class="page-buttons-container" data-mid="{{this.moduleId}}" data-pid="{{this._id}}">            
              <button class="btn btn-xs btn-default page-number">
                {{sum order 1}}
              </button>
              <button class="btn btn-xs btn-default page-duration">{{videoSecondsToHMS this.duration}}</button>
              <button class="btn btn-xs btn-default btn-preview-module-page" title="View"> <i class="fa fa-eye"></i> </button>
              <button class="btn btn-xs btn-default btn-edit-module-page" title="Edit"> <i class="fa fa-pencil"></i> </button>
              {{#if eq status 1}}
              <button class="btn btn-xs btn-warning btn-update-module-page-status active" title="Deactivate" data-status="2"> 
              <i class="fa fa-lock"></i> </button>
              {{else}}
              <button class="btn btn-xs btn-success btn-update-module-page-status inactive" title="Activate" data-status="1"> 
              <i class="fa fa-unlock"></i> </button>
              {{/if}}
              <button class="btn btn-xs btn-danger btn-update-module-page-status" title="Delete" data-status="4"> 
              <i class="fa fa-trash"></i> </button>
            </div>
            </li>                    
          {{/each}}
        </ul>        
      </div>
    </div>
    
    {{> AdminModulePageEdit}}
    {{> AdminModulePagePreview}}    

  </div>

  <div class="new-module-page-form-container modal fade" 
    id="new_module_page_form_container" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Add New Page</h4>
        </div>
        <div class="modal-body">

      <form class="form-horizontal">
        
        <div class="form-group">
          <label for="input_page_title" class="col-sm-2 control-label">Title: </label>
          <div class="col-sm-9">
            <input type="text" class="form-control" id="input_page_title">  
          </div>          
        </div>

        <div class="form-group">
          <label for="sel_page_type" class="col-sm-2 control-label">Type: </label>
          <div class="col-sm-3">
            <select id="sel_page_type" class="form-control">
              <option value="-1">SELECT</option>
              <option value="video">Video</option>
              <option value="code">Code</option>
              <option value="quiz">Quiz</option>
              <option value="survey">Survey</option>
            </select>  
          </div>          
        </div>

        <div class="form-group">
          <label for="txta_page_desc" class="col-sm-2 control-label">Description: </label>
          <div class="col-sm-7">
            <textarea id="txta_page_desc" class="form-control"></textarea>  
          </div>          
        </div>

      </form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary btn-submit-module-new-page">Add</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

</template>
